<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js">
<head>
    {% include head.html %}
    {% include head/custom.html %}

    <!-- DRSH added -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">

    <!-- Google Translate Script -->
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>


  <body>

    {% include browser-upgrade.html %}
    {% include masthead.html %}

    {{ content }}

    <div class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}

    <div id="google_translate_element" style="display: none;"></div>

    <!-- Custom JavaScript -->
    <script type="text/javascript">
      function setInitialLanguage() {
        const userLang = navigator.language || navigator.userLanguage;
        const langCode = userLang.split('-')[0];
        if (langCode !== 'en') {
          const googleFrame = document.createElement('iframe');
          googleFrame.id = 'google_translate_element';
          googleFrame.style.display = 'none';
          document.body.appendChild(googleFrame);
          googleFrame.contentWindow.document.open();
          googleFrame.contentWindow.document.write('<html><head>' +
            '<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"><\/script>' +
            '</head><body></body></html>');
          googleFrame.contentWindow.document.close();
        }
      }

      function googleTranslateElementInit() {
        new google.translate.TranslateElement({
          pageLanguage: 'en',
          layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
          gaTrack: true,
          autoDisplay: false
        }, 'google_translate_element');
      }

      function triggerTranslate() {
        const dropdown = document.getElementsByClassName('goog-te-combo')[0];
        dropdown.dispatchEvent(new Event('mousedown'));
      }

      document.addEventListener('DOMContentLoaded', function() {
        setInitialLanguage();
        document.getElementById('translateButton').addEventListener('click', function() {
          triggerTranslate();
        });
      });
    </script>
</body>
</html>
